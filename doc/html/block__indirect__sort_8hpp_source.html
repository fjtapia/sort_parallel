<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Sort Parallel: include/boost/sort/parallel/detail/block_indirect_sort.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sort Parallel
   </div>
   <div id="projectbrief">Sorting Algorithms for the Boost Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_1878a3f4746a95c6aad317458cc7ef80.html">boost</a></li><li class="navelem"><a class="el" href="dir_0dcad0da4f36218cbabb216021de9867.html">sort</a></li><li class="navelem"><a class="el" href="dir_279d9a2670abcfb852adc6ee38deefb6.html">parallel</a></li><li class="navelem"><a class="el" href="dir_fcc7cbd9f318ac2e5540c46572a1f3d8.html">detail</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">block_indirect_sort.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="block__indirect__sort_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span><span class="comment"></span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/// @file block_indirect_sort.hpp</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">/// @brief Sample Sort algorithm</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">/// @author Copyright (c) 2016 Francisco Jos√© Tapia (fjtapia@gmail.com )\n</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">///         Distributed under the Boost Software License, Version 1.0.\n</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">///         ( See accompanyingfile LICENSE_1_0.txt or copy at</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">///           http://www.boost.org/LICENSE_1_0.txt  )</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// @version 0.1</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">///</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef  __BOOST_SORT_PARALLEL_DETAIL_BLOCK_INDIRECT_SORT_HPP</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define  __BOOST_SORT_PARALLEL_DETAIL_BLOCK_INDIRECT_SORT_HPP</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;future&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="nbits_8hpp.html">boost/sort/parallel/detail/util/nbits.hpp</a>&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="range_8hpp.html">boost/sort/parallel/detail/util/range.hpp</a>&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="intro__sort_8hpp.html">boost/sort/parallel/detail/intro_sort.hpp</a>&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="stack__cnc_8hpp.html">boost/sort/parallel/detail/util/stack_cnc.hpp</a>&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="atomic_8hpp.html">boost/sort/parallel/detail/util/atomic.hpp</a>&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="namespaceboost.html">   26</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceboost.html">boost</a>     {</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="namespaceboost_1_1sort.html">   27</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceboost_1_1sort_1_1parallel.html#a10c356b90a78dbcca1277dfce78e1ec6">sort</a>      {</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="namespaceboost_1_1sort_1_1parallel.html">   28</a></span>&#160;<span class="keyword">namespace </span>parallel  {</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html">   29</a></span>&#160;<span class="keyword">namespace </span>detail    {</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// @struct block_indirect_sort</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">/// @brief This a structure for to implement a sample sort, exception</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">///        safe</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">template</span> &lt;u<span class="keywordtype">int</span>32_t block_size, u<span class="keywordtype">int</span>32_t group_size, <span class="keyword">class</span> iter_t, <span class="keyword">class</span> compare&gt;</div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">   41</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">block_indirect_sort</a></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//              F A S T _ B L O C K _ S O R T</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//                  D E F I N I T I O N S</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aad2c641010ccf28ff2f600d2eafd342e">   47</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;iter_t&gt;::value_type   <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aad2c641010ccf28ff2f600d2eafd342e">value_t</a> ;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaaf2c74180808cb6eec05eac939f854d">   48</a></span>&#160;<span class="keyword">typedef</span> std::atomic&lt;uint32_t&gt;                               <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaaf2c74180808cb6eec05eac939f854d">atomic_t</a> ;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab77b27881bc5b8e3ba47f40346504dd4">   49</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html">util::range &lt;size_t&gt;</a>                                <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab77b27881bc5b8e3ba47f40346504dd4">range_pos</a> ;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a46ed5449d3053bcf8b38589bc99a1d80">   50</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html">util::range &lt;iter_t&gt;</a>                                <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a46ed5449d3053bcf8b38589bc99a1d80">range_it</a> ;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a276dd6674b312d0fa54e6ed3b0199349">   51</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html">util::range &lt;value_t*&gt;</a>                              <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a276dd6674b312d0fa54e6ed3b0199349">range_buf</a> ;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaf3c71b13682cf083b9655eccc80f7bc">   52</a></span>&#160;<span class="keyword">typedef</span> std::function &lt;void (void) &gt;                        <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaf3c71b13682cf083b9655eccc80f7bc">function_t</a> ;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span><span class="comment"></span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">/// @struct block_pos</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">/// @brief represent a group of N contiguous elements, beginning with the</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">///        pointed by first</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">   62</a></span>&#160;<span class="keyword">class </span><a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">block_pos</a></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{   <span class="comment">//------------------------------ VARIABLES -----------------------------</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">size_t</span> num ;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">public</span> :</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">//----------------------------- FUNCTIONS ------------------------------</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#adf34358cf8e2790706a5c3d7a6f1e2a4">   68</a></span>&#160;    <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#adf34358cf8e2790706a5c3d7a6f1e2a4">block_pos</a> ( <span class="keywordtype">void</span>): num(0){};</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae615439e10995ee7ae7ff57d5c9cbb0a">   69</a></span>&#160;    <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae615439e10995ee7ae7ff57d5c9cbb0a">block_pos</a> (<span class="keywordtype">size_t</span> position , <span class="keywordtype">bool</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ac5e46d9568c1015e5b8bc93979b7d6a0">side</a> = <span class="keyword">false</span>)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {   num = (position &lt;&lt; 1) + ((<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ac5e46d9568c1015e5b8bc93979b7d6a0">side</a>)?1:0);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    };</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a5fd444527479ebe64c1e7ec6e3e8b058">   72</a></span>&#160;    <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">block_pos</a> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a5fd444527479ebe64c1e7ec6e3e8b058">operator = </a>( <span class="keywordtype">size_t</span> position )</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {   num = (position &lt;&lt;1) + (num&amp;1);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> *this ;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    };</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">   77</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a> (<span class="keywordtype">void</span>)<span class="keyword"> const</span>{ <span class="keywordflow">return</span> ( num&gt;&gt;1);};</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae20d9ba0a0d8ce56fa9e84fd553ad468">   78</a></span>&#160;    <span class="keywordtype">void</span>   <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae20d9ba0a0d8ce56fa9e84fd553ad468">pos</a> (<span class="keywordtype">size_t</span> position ){ num = (position &lt;&lt;1) + (num&amp;1);};</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ac5e46d9568c1015e5b8bc93979b7d6a0">   80</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ac5e46d9568c1015e5b8bc93979b7d6a0">side</a> ( <span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> ( (num &amp;1) !=0 ) ;};</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#aad36aad6e975a07f6dd0fdc321156170">   81</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#aad36aad6e975a07f6dd0fdc321156170">side</a> ( <span class="keywordtype">bool</span> b ){ num = ( num &amp; ~1 ) + (b) ?1:0 ;};</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}; <span class="comment">// end struct block_pos</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span><span class="comment"></span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// @struct block</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/// @brief represent a group of N contiguous elements, beginning with the</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">///        pointed by first</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">   93</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">block</a></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;{   <span class="comment">//------------------------------ VARIABLES ------------------------------</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">   95</a></span>&#160;    iter_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">first</a> ;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">//-------------------------- FUNCTIONS --------------------------------</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a8862ac51a099e17f023437b89944eb6d">   98</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a8862ac51a099e17f023437b89944eb6d">block</a> ( iter_t  it ):first(it){};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#ab37e1566e7030b55b50299f90961cc93">  100</a></span>&#160;    iter_t   <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#ab37e1566e7030b55b50299f90961cc93">front</a>     (<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> first ;};</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a598973b3061c86b2346e8470ca0476c6">  101</a></span>&#160;    iter_t   <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a598973b3061c86b2346e8470ca0476c6">back</a>      (<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> first + block_size ;};</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a110f3b4e4cce0e508f01291b6d42e104">  102</a></span>&#160;    range_it <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a110f3b4e4cce0e508f01291b6d42e104">get_range</a> (<span class="keywordtype">void</span>)       { <span class="keywordflow">return</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a46ed5449d3053bcf8b38589bc99a1d80">range_it</a>(first,first+block_size);};</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;};<span class="comment">// end struct block</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">//  function : compare_block</span><span class="comment"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/// @brief compare two blocks using the content of the pointed by first</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">/// @param [in] b1 : first block to compare</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/// @param [in] b2 : second block to compare</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">/// @param [in] cmp : comparison operator</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span><span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acc4aa32650bfcf22b46e12a3479d5dc5">  115</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acc4aa32650bfcf22b46e12a3479d5dc5">compare_block</a> ( <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">block</a> b1, <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">block</a> b2 , compare cmp = compare())</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{   <span class="comment">//---------------------------- begin ----------------------------------</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> cmp (*b1.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">first</a>, *b2.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">first</a> ) ;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;};</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// @struct compare_block_pos</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// @brief This is a object for to compare two blocks from their positions</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">///        in the index</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html">  125</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html">compare_block_pos</a></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{   <span class="comment">//-------------------------- VARIABLES --------------------------------</span></div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a31afea33d080895c9d2d413f674a1c8a">  127</a></span>&#160;    iter_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a31afea33d080895c9d2d413f674a1c8a">first</a> ;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a28f2e7d149785ec3899274680d7b17e9">  128</a></span>&#160;    compare <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a28f2e7d149785ec3899274680d7b17e9">comp</a> ;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">//-------------------------  FUNCTIONS -----------------------------------</span></div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#af85082aef174ae6745adbf3508115ec0">  131</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#af85082aef174ae6745adbf3508115ec0">compare_block_pos</a> ( iter_t f1, compare  cmp ):first (f1),comp(cmp){};</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a88d8fede723fb07d5e2dc5eccda7904d">  133</a></span>&#160;    <span class="keywordtype">bool</span> operator() ( <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">block_pos</a> b1, <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">block_pos</a> b2 )<span class="keyword">const</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">    </span>{   <span class="keywordflow">return</span> comp ( *(first + (b1.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a>() * block_size)),</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                      *(first + (b2.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a>() * block_size))   ) ;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    };</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;};<span class="comment">// end struct compare_block_pos</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">/// @struct backbone</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">/// @brief This contains all the information shared betwen the classes of the</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">///        algorithm</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">  148</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;{   <span class="comment">//----------------------- VARIABLES --------------------------------------</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">  150</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html">util::range&lt;iter_t&gt;</a> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">global_range</a>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">  151</a></span>&#160;    std::vector&lt;block_pos&gt; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a> ;</div><div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#adb0ed3d9e6290c57240d952006e1edff">  152</a></span>&#160;    <span class="keywordtype">size_t</span> nelem, nblock,<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#adb0ed3d9e6290c57240d952006e1edff">ntail</a> ;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">  153</a></span>&#160;    compare <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a> ;</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">  154</a></span>&#160;    range_it <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">range_tail</a> ;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ac7d268957f57d583cc52d99db8cf9318">  155</a></span>&#160;    <span class="keyword">static</span> thread_local value_t* <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ac7d268957f57d583cc52d99db8cf9318">buf</a>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">  156</a></span>&#160;    <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html">util::stack_cnc &lt;std::function &lt;void (void) &gt;</a> &gt; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a> ;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">//  function : backbone</span><span class="comment"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">    /// @brief constructor of the class</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">    /// @param [in] pos : position of the range</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">    /// @return iterator to the first position of the block</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"></span>    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a0d2982cced585839c21ca9d1d7acb820">  164</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a0d2982cced585839c21ca9d1d7acb820">backbone</a> ( iter_t first, iter_t last , compare comp):</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;               global_range ( first, last ), cmp(comp)</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {   <span class="comment">//------------------------- begin ---------------------------------</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        assert ( (last-first) &gt;= 0 ) ;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> ( first == last ) return ; <span class="comment">//nothing to do</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        nelem = size_t ( last - first ) ;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        nblock = (nelem + block_size -1 ) / block_size ;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        ntail = (nelem %block_size );</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        index.reserve (nblock+1) ;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i =0 ; i &lt; nblock;++i)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            index.emplace_back( <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">block_pos</a>(i));</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        range_tail.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> = (ntail ==0)?last:(first+ ((nblock-1) * block_size)) ;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        range_tail.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a> = last ;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    };</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">//  function : get_block</span><span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">    /// @brief obtain the block in the position pos</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">    /// @param [in] pos : position of the range</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">    /// @return block required</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment"></span>    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#afefd4e7c10cfe828f3329b08c056eab4">  188</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">block</a> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#afefd4e7c10cfe828f3329b08c056eab4">get_block</a> ( <span class="keywordtype">size_t</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="keyword">    </span>{   <span class="keywordflow">return</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">block</a> (global_range.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> + ( pos * block_size ));</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    };</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">//  function : get_range</span><span class="comment"></span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    /// @brief obtain the range in the position pos</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">    /// @param [in] pos : position of the range</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    /// @return range required</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">  197</a></span>&#160;    <span class="keyword">inline</span> range_it <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( <span class="keywordtype">size_t</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a>)<span class="keyword"> const</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="keyword">    </span>{   <span class="comment">//--------------------------- begin --------------------------------</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        iter_t it1 = global_range.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> + ( pos * block_size );</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        iter_t it2 = ( pos == (nblock-1) )?global_range.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a>:it1+block_size;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a46ed5449d3053bcf8b38589bc99a1d80">range_it</a> ( it1 , it2);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    };</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="comment">//  function : get_range_buf</span><span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">    /// @brief obtain the range in the position pos</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">    /// @param [in] pos : position of the range</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">    /// @return range</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">  209</a></span>&#160;    <span class="keyword">inline</span> range_buf <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">get_range_buf</a> ( )<span class="keyword"> const</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keyword">    </span>{   <span class="keywordflow">return</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a276dd6674b312d0fa54e6ed3b0199349">range_buf</a> ( buf, buf+ block_size) ;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    };</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//  function : exec</span><span class="comment"></span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">    /// @brief begin with the execution of the functions stored in works</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">    /// @param [in] counter : atomic counter. When 0 exits the function</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">    /// @return range</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">  218</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a>( atomic_t &amp; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a5d64212b34adbe98c359f643c0642de3">counter</a> )</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {   <span class="comment">//------------------------ begin --------------------------------</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        std::function &lt;void (void) &gt;  func_exec ;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">while</span> ( <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#abd198c2b9fc50b91aebe64a0ad6e47eb">util::atomic_read</a> (counter) != 0)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        {   <span class="keywordflow">if</span> ( works.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a00252cd27bda79b8dc571fd5ffa4848a">pop_move_back</a>( func_exec) ) func_exec() ;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            <span class="keywordflow">else</span> std::this_thread::yield() ;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        };</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    };</div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#aaa20ecec89f97fb6aaad4fd0b3e7f3b3">  226</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#aaa20ecec89f97fb6aaad4fd0b3e7f3b3">exec</a>( value_t * ptr_buf ,atomic_t &amp; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a5d64212b34adbe98c359f643c0642de3">counter</a> )</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    {   <span class="comment">//------------------------ begin --------------------------------</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        buf = ptr_buf ;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        exec ( counter) ;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    };</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;};<span class="comment">// end struct backbone</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">/// @struct parallel_sort</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/// @brief This contains all the information shared betwen the classes of the</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">///        algorithm</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html">  243</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html">parallel_sort</a></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;{   <span class="comment">//----------------------- VARIABLES --------------------------------------</span></div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a9365659769f782ccd84625d0b72155d2">  245</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a9365659769f782ccd84625d0b72155d2">bk</a> ;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a1e797b786baad2e3a006bfa4fa100e2e">  246</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a1e797b786baad2e3a006bfa4fa100e2e">max_per_thread</a> ;</div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a0fb7be21a001d47f2350a5928317169d">  247</a></span>&#160;    atomic_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a0fb7be21a001d47f2350a5928317169d">counter</a> ;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">//  function : parallel_sort</span><span class="comment"></span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">    /// @brief constructor of the class</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">    /// @param [in] bkbn : backbone struct with all the information to sort</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">    /// @param [in] first : iterator to the first element to sort</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /// @param [in] last : iterator to the next element after the last</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"></span>    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ae031e4e9b458a36e6e9734ef67fb7a17">  256</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ae031e4e9b458a36e6e9734ef67fb7a17">parallel_sort</a> ( <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;bkbn, iter_t first, iter_t last):</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                    bk(bkbn), counter(0)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {   <span class="comment">//-------------------------- begin ------------------------------------</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        assert ( (last-first) &gt;= 0 ) ;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordtype">size_t</span> nelem = size_t ( last - first ) ;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">//------------------- check if sort --------------------------------------</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordtype">bool</span> sorted = true ;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordflow">for</span> ( iter_t it1 = first, it2 = first+1 ;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;              it2 != last and (sorted = not bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>(*it2,*it1));it1 = it2++);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (sorted) return ;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">//-------------------max_per_thread ---------------------------</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        uint32_t nbits_size = (util::nbits64(<span class="keyword">sizeof</span> (value_t)))&gt;&gt;1;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> ( nbits_size &gt; 5 ) nbits_size = 5 ;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        max_per_thread = 1&lt;&lt; (18 - nbits_size);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="comment">//---------------- check if only single thread -----------------------</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">if</span> ( nelem &lt; ( max_per_thread))</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        {   <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a8096b13b1b1fafb93ff9a29a49cc016a">intro_sort</a> (first, last, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            return ;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        };</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        divide_sort ( first, last ) ;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="comment">// wait until all the parts are finished</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a>(counter);</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    };</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">//  function : divide_sort</span><span class="comment"></span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    /// @brief this function divide the data in two part, for to be sorted in</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    ///        a parallel mode</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">    /// @param [in] first : iterator to the first element to sort</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">    /// @param [in] last : iterator to the next element after the last</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span>    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ab4f181e67574687ad06810418d48aa52">  290</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ab4f181e67574687ad06810418d48aa52">divide_sort</a>(iter_t first, iter_t last   )</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {   <span class="comment">//------------------- check if sort -----------------------------------</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordtype">bool</span> sorted = true ;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">for</span> ( iter_t it1 = first, it2 = first+1 ;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;              it2 != last and (sorted = not bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>(*it2,*it1));it1 = it2++);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> (sorted) return ;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="comment">//---------------- check if finish the subdivision -------------------</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordtype">size_t</span> nelem  = last - first ;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span> ( nelem &lt; ( max_per_thread))</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {   <span class="keywordflow">return</span> <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a8096b13b1b1fafb93ff9a29a49cc016a">intro_sort</a> (first, last, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        };</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">//-------------------- pivoting  ----------------------------------</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a94671129274ada0bb19f7ba8f3cb26cf">pivot9</a> ( first, last ,bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keyword">const</span> value_t &amp; val = const_cast &lt; value_t &amp;&gt;(* first);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        iter_t c_first = first+1 , c_last  = last-1;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">while</span> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>(*c_first, val) ) ++c_first ;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">while</span> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a> ( val,*c_last ) ) --c_last ;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">while</span> (not( c_first &gt; c_last ))</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        {   std::swap ( *(c_first++), *(c_last--));</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;            <span class="keywordflow">while</span> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a> (*c_first, val) ) ++c_first;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">while</span> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a> ( val, *c_last) ) --c_last ;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }; <span class="comment">// End while</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        std::swap ( *first , * c_last);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="comment">// insert  the work of the second half in the stack of works</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a3d6c5ba7ba79bd18ccbc491d571e066d">util::atomic_add</a> ( counter , 1 );</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        function_t f1 = [=] ()</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                        {   divide_sort ( c_first, last) ;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                            <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a>( this-&gt;counter,1);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        };</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a>( f1) ;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="comment">// The first half is done by the same thread</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        divide_sort (first, c_last);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    };</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;};<span class="comment">// end struct parallel_sort</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//--------------------------------------------------------------------------</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">/// @struct merge_blocks</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">/// @brief This contains all the information shared betwen the classes of the</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">///        algorithm</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html">  339</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html">merge_blocks</a></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{   <span class="comment">//---------------------- VARIABLES ------------------------------</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#af9c1d59b8233f99680a9c4f8c0e2a751">  341</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#af9c1d59b8233f99680a9c4f8c0e2a751">bk</a> ;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a0c3aa4f6acd52c203257ecf99961982b">  342</a></span>&#160;    atomic_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a0c3aa4f6acd52c203257ecf99961982b">counter</a> ;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//  function : merge_blocks</span><span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">    /// @brief make the indirect merge of the two range_pos inside RP</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">    /// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">    /// @param [in] RP : rnage_pos which contains the two ranges to merge</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">    /// @param [in] Rbuf : auxiliary memory for to do the merge</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#ae8a5203448192b8a7b1c2833ddce150f">  351</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#ae8a5203448192b8a7b1c2833ddce150f">merge_blocks</a> ( <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;bkb, <span class="keywordtype">size_t</span> pos_index1, <span class="keywordtype">size_t</span> pos_index2,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                   <span class="keywordtype">size_t</span> pos_index3 ):bk(bkb),counter(0)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {   <span class="comment">//----------------------------- begin --------------------------------</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordtype">size_t</span> nblock1 = pos_index2 - pos_index1 ;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="keywordtype">size_t</span> nblock2 = pos_index3 - pos_index2 ;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">if</span> ( nblock1 == 0 or nblock2 == 0 ) return ;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="comment">//-----------------------------------------------------------------------</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="comment">// Merging of the two intervals</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="comment">//-----------------------------------------------------------------------</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        std::vector&lt;block_pos&gt; vpos1, vpos2 ;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        vpos1.reserve ( nblock1 +1 );</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        vpos2.reserve ( nblock2 +1 );</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = pos_index1 ; i &lt; pos_index2 ; ++i)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        {   vpos1.emplace_back( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[i].pos(), <span class="keyword">true</span>) ;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        };</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = pos_index2; i &lt; pos_index3 ; ++i)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        {   vpos2.emplace_back( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[i].pos(), <span class="keyword">false</span>) ;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        };</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="comment">//  tail process</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">if</span> ( vpos2.back().pos() == (bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a5f3b45a021a8c44ce4e6d50ac60db64c">nblock</a> -1) and</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;             bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">range_tail</a>.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> != bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">range_tail</a>.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a>)</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        {   tail_process ( vpos1, vpos2);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            nblock1 = vpos1.size();</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            nblock2 = vpos2.size() ;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        };</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html">compare_block_pos</a>  cmp_blk ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">global_range</a>.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a>, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>) ;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a6c593dad4c34bba44d18cd19d3a744f9">util::full_merge</a> (vpos1.begin() , vpos1.end(),</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    vpos2.begin() , vpos2.end(),</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                    bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>.begin() + pos_index1, cmp_blk);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="comment">//--------------------------------------------------------------------</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">// Extracting the ranges for to merge the elements</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="comment">//--------------------------------------------------------------------</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        std::vector &lt;range_pos&gt; vrange_pos ;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        cut_range (<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab77b27881bc5b8e3ba47f40346504dd4">range_pos</a>(pos_index1,pos_index1+nblock1+nblock2),vrange_pos);</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="comment">//           parallel process</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a27fbd2be0e61e1af8da96faa36e13bf5">util::atomic_write</a> ( counter , vrange_pos.size());</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i =0 ; i &lt; vrange_pos.size() ; ++i)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        {   function_t f1=[=, &amp;vrange_pos ]( )</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                          { merge_range_pos ( vrange_pos[i]);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                            <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( this-&gt;counter , 1);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                          };</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 );</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        };</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a> ( counter) ; <span class="comment">// wait until finish all the ranges</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    };</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="comment">//  function : tail_process</span><span class="comment"></span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">    /// @brief make the indirect merge of the two range_pos inside RP</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">    /// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">    /// @param [in] RP : rnage_pos which contains the two ranges to merge</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">    /// @param [in] Rbuf : auxiliary memory for to do the merge</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a4f6f2c45278bfcf0a73039a1f2a8bb8e">  415</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a4f6f2c45278bfcf0a73039a1f2a8bb8e">tail_process</a> ( std::vector&lt;block_pos&gt; &amp; vblkpos1,</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                        std::vector&lt;block_pos&gt; &amp; vblkpos2  )</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    {   <span class="comment">//-------------------------- begin ---------------------------------</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">if</span> ( vblkpos1.size() == 0 or vblkpos2.size() == 0 ) <span class="keywordflow">return</span> ;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        vblkpos2.pop_back();</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordtype">size_t</span> posback1 = vblkpos1.back().pos() ;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        range_it range_back1 = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> (posback1 );</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">if</span> ( <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a007076e25e0372476000ce7874e3c103">util::is_mergeable</a> (range_back1,bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">range_tail</a>, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>))</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        {   <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a5787ea4b9228fee3527975e589a38dbd">util::in_place_merge_uncontiguous</a> ( range_back1, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">range_tail</a>,</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                                bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">get_range_buf</a>(), bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordflow">if</span> ( vblkpos1.size() &gt;1 )</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            {   <span class="comment">//---------------------------------------------------------------</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordtype">size_t</span> pos_aux = vblkpos1[ vblkpos1.size() -2].pos() ;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                range_it range_aux = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( pos_aux) ;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                <span class="keywordflow">if</span> ( <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a007076e25e0372476000ce7874e3c103">util::is_mergeable</a>( range_aux,range_back1, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>))</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                {   vblkpos2.emplace_back( posback1, <span class="keyword">false</span> ) ;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                    vblkpos1.pop_back() ;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                };</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            };</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        };</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    };</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">//  function : cut_range</span><span class="comment"></span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">    /// @brief divide the range_pos rng in several ranges. The ranges obtained</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">    ///        are inserted in the vector of range_pos vrpos_out</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">    /// @param [in] rng : range to divide</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">    /// @param [in] vrpos_out : vector where insert the ranges obtained in the</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">    ///                         division of rng</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a33d15182500ed5d1fa9a21d1cf191312">  449</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a33d15182500ed5d1fa9a21d1cf191312">cut_range</a>  (range_pos rng , std::vector &lt;range_pos&gt; &amp; vrpos_out)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    {   <span class="comment">//---------------------------- begin -----------------------------</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> ( rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a144a298b53878210bc0f4610ea069e0f">size</a>() &lt; group_size )</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        {   vrpos_out.push_back ( rng);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            return ;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        };</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordtype">size_t</span> npart = (rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a144a298b53878210bc0f4610ea069e0f">size</a>() + group_size -1 )/ group_size ;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordtype">size_t</span> size_part = rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a144a298b53878210bc0f4610ea069e0f">size</a>() / npart ;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordtype">size_t</span> pos_ini = rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> ;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordtype">size_t</span> pos_last = rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a> ;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">while</span> ( pos_ini &lt; pos_last)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {   <span class="keywordtype">size_t</span> <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a> = pos_ini + size_part ;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <span class="keywordflow">while</span> ( pos &lt; pos_last and</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[pos-1].side() == bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a>].side())</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            {   ++<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a> ;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            };</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            <span class="keywordflow">if</span> ( pos &lt; pos_last)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            {    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a5787ea4b9228fee3527975e589a38dbd">in_place_merge_uncontiguous</a></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                     ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[pos-1].pos()),</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                       bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[pos].pos() ),</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                       bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">get_range_buf</a>(), bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <span class="keywordflow">else</span> pos = pos_last ;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <span class="keywordflow">if</span> ( (pos - pos_ini) &gt; 1 )</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                vrpos_out.emplace_back(  pos_ini, pos);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            pos_ini = <a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">pos</a> ;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        };</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    };</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">//  function : merge_range_pos</span><span class="comment"></span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">    /// @brief make the indirect merge of the two range_pos inside RP</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">    /// @param [in] rng : rango de positions of ranges for to merge</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a037387c318bcff3d743fd2b028a3afc4">  484</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a037387c318bcff3d743fd2b028a3afc4">merge_range_pos</a> ( range_pos rng )</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;     {   <span class="comment">//------------------------- begin ------------------------------------</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;         <span class="keywordflow">if</span> ( rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a144a298b53878210bc0f4610ea069e0f">size</a>() &lt; 2 ) <span class="keywordflow">return</span> ;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;         range_buf rbuf = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">get_range_buf</a> () ;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;         range_it  rng_prev = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[ rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> ].pos());</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">init_move</a> ( rbuf, rng_prev);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;         range_it rng_posx (rng_prev);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;         <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> posx = rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a> +1 ; posx != rng.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a> ; ++posx )</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;         {   rng_posx = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[posx].pos());</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;             <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a96e0acd637c3f107cb09ac1514a6bdd0">util::merge_flow</a> ( rng_prev, rbuf, rng_posx, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;             rng_prev = rng_posx;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }; <span class="comment">// end while</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">init_move</a> (rng_posx, rbuf);</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;     }; <span class="comment">// end  merge_range_pos ( range_pos rng )</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;};<span class="comment">// end struct merge_blocks</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">//</span><span class="comment"></span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">///---------------------------------------------------------------------------</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">/// @struct move_blocks</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">/// @brief This contains all the information shared betwen the classes of the</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">///        algorithm</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">/// @tparam</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html">  514</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html">move_blocks</a></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{   <span class="comment">//-------------------------- VARIABLES --------------------------------</span></div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a360fa73ef7562a268386c840736de7e7">  516</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a360fa73ef7562a268386c840736de7e7">bk</a> ;</div><div class="line"><a name="l00517"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ac9cad93226cc422c81c9dcf142c2c1cd">  517</a></span>&#160;    atomic_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ac9cad93226cc422c81c9dcf142c2c1cd">counter</a> ;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">//  function : move_blocks</span><span class="comment"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">    /// @brief constructor of the class for to move the blocks to their true</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">    ///        position obtained from the index</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">    /// @param [in] bkb : backbone with the index and the blocks</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00525"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ab8a8c795a41cfe491f85fada67c33c1f">  525</a></span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ab8a8c795a41cfe491f85fada67c33c1f">move_blocks</a> ( <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> &amp;bkb ):bk(bkb),counter(0)</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    {   <span class="comment">//------------------------- begin -------------------------------------</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        std::vector &lt; std::vector &lt;size_t&gt; &gt; vsequence ;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        std::vector&lt;size_t&gt;  sequence ;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordtype">size_t</span> pos_index_ini =0 , pos_index_src =0, pos_index_dest =0 ;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">while</span> ( pos_index_ini &lt; bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>.size() )</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        {   <span class="keywordflow">while</span> (pos_index_ini &lt; bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>.size() and</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                   bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[pos_index_ini].pos() == pos_index_ini)</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            {   ++pos_index_ini;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            };</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordflow">if</span> ( pos_index_ini == bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>.size() ) <span class="keywordflow">break</span> ;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            sequence.clear() ;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            pos_index_src = pos_index_dest = pos_index_ini ;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            sequence.push_back (pos_index_ini);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            <span class="keywordflow">while</span> ( bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[ pos_index_dest].pos() != pos_index_ini )</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            {   pos_index_src = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[ pos_index_dest].pos();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                sequence.push_back ( pos_index_src) ;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[pos_index_dest].pos( pos_index_dest);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                pos_index_dest = pos_index_src ;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            };</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">index</a>[ pos_index_dest].pos( pos_index_dest);</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            vsequence.push_back( sequence);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        };</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a27fbd2be0e61e1af8da96faa36e13bf5">util::atomic_write</a> ( counter , vsequence.size() );</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// creation of the works</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">//-------------------------------------------------------------------</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        atomic_t son_counter ( vsequence.size() ) ;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i =0 ; i &lt; vsequence.size() ; ++i )</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        {   <span class="keywordflow">if</span> ( vsequence[i].size() &lt; group_size )</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            {   function_t f1 = [ = , &amp;vsequence, &amp;son_counter]( )</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                                {   move_sequence(vsequence[i] );</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                                    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( son_counter, 1 ) ;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                                };</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 ) ;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            {   function_t f1 = [=, &amp;vsequence, &amp;son_counter]()</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                {   move_long_sequence(vsequence[i]) ;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                                    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( son_counter, 1 );</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                                };</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 ) ;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            };</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        };</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a> ( son_counter) ;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    };</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">//  function : move_sequence</span><span class="comment"></span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">    /// @brief make the indirect merge of the two range_pos inside RP</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">    /// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">    /// @param [in] RP : rnage_pos which contains the two ranges to merge</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">    /// @param [in] Rbuf : auxiliary memory for to do the merge</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a008fd66f067af41ce03d7a202c84692f">  584</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a008fd66f067af41ce03d7a202c84692f">move_sequence</a> ( std::vector&lt;size_t&gt; &amp; seq )</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    {   <span class="comment">//---------------------- begin -------------------------------------</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        range_buf  rbuf = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">get_range_buf</a> () ;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="keywordtype">size_t</span> pos_range2 = seq[0] ;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        range_it range2 = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( pos_range2);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">init_move</a> ( rbuf, range2) ;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i = 1 ; i &lt; seq.size() ; ++i )</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        {   pos_range2 = seq[i] ;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            range_it range1 ( range2) ;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            range2 = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( pos_range2 ) ;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">init_move</a> ( range1, range2 ) ;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        };</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">init_move</a> ( range2, rbuf ) ;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    };</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">//  function : move_long_sequence</span><span class="comment"></span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">    /// @brief make the indirect merge of the two range_pos inside RP</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">    /// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">    /// @param [in] RP : rnage_pos which contains the two ranges to merge</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">    /// @param [in] Rbuf : auxiliary memory for to do the merge</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment"></span>    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a87ddb30aa1a526b73192c66c56e95e78">  608</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a87ddb30aa1a526b73192c66c56e95e78">move_long_sequence</a> ( std::vector&lt;size_t&gt; &amp; seq )</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    {   <span class="comment">//--------------------------------- begin ----------------------------</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordflow">if</span> ( seq.size() &lt; group_size )</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">return</span> move_sequence ( seq) ;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordtype">size_t</span> npart = ( seq.size() + group_size -1) / group_size ;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordtype">size_t</span> size_part = seq.size() / npart ;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="comment">// vectors for the sequences and the final sequence</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        std::vector&lt; std::vector &lt; size_t&gt; &gt; vseq ;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        vseq.reserve ( npart ) ;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        std::vector &lt; size_t&gt; index_seq ;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        index_seq.reserve ( npart ) ;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keyword">auto</span> it_pos = seq.begin() ;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i =0 ; i &lt; (npart -1) ; ++i, it_pos += size_part)</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        {   vseq.emplace_back ( it_pos, it_pos + size_part) ;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            index_seq.emplace_back ( * ( it_pos+ size_part -1) ) ;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        };</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        vseq.emplace_back ( it_pos , seq.end() ) ;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        index_seq.emplace_back ( seq.back() ) ;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment">// creation of the functions</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        atomic_t son_counter ( vseq.size() ) ;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">size_t</span> i =0 ; i &lt; vseq.size() ; ++i )</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        {   function_t f1=[=, &amp;vseq, &amp;son_counter]()</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                          { move_sequence( vseq[i] ) ;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                            <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( son_counter, 1 );</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                          };</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> (f1 ) ;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        };</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a> ( son_counter) ;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        move_long_sequence ( index_seq ) ;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    };</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;};<span class="comment">// end of struct move_blocks</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">//                    FAST_BLOCK_SORT</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">//                VARIABLES AND CONSTANTS</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af18290463a3cbae52fcf85ea8813919d">  651</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">backbone</a> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af18290463a3cbae52fcf85ea8813919d">bk</a> ;</div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a5d64212b34adbe98c359f643c0642de3">  652</a></span>&#160;atomic_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a5d64212b34adbe98c359f643c0642de3">counter</a> ;</div><div class="line"><a name="l00653"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acbddfa56a4a664baf541004010533089">  653</a></span>&#160;value_t *<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acbddfa56a4a664baf541004010533089">ptr</a> ;</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab95578dc34110b4b8350a24c1d69b682">  654</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab95578dc34110b4b8350a24c1d69b682">construct</a> ;</div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aa0050779ffa6894c7678f205f15b8891">  655</a></span>&#160;range_buf <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aa0050779ffa6894c7678f205f15b8891">rglobal_buf</a> ;</div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">  656</a></span>&#160;uint32_t <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">nthread</a> ;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">//  function : block_indirect_sort</span><span class="comment"></span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">/// @brief begin with the execution of the functions stored in works</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">/// @param [in] counter : atomic counter. When 0 exits the function</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">/// @return range</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span><span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a7f4bd3d7b659ea631c6a720c7a92d9f4">  664</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a7f4bd3d7b659ea631c6a720c7a92d9f4">block_indirect_sort</a> ( iter_t first , iter_t last , compare cmp, uint32_t nthr )</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                :bk (first, last, cmp), counter(0), ptr(nullptr),</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                 construct (false ),nthread ( nthr)</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;{   <span class="comment">//-------------------------- begin -------------------------------------</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    assert ( (last-first) &gt;= 0 ) ;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordtype">size_t</span> nelem = size_t ( last - first ) ;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> ( nelem == 0 ) return ;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    <span class="comment">//------------------- check if sort --------------------------------------</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordtype">bool</span> sorted = true ;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">for</span> ( iter_t it1 = first, it2 = first+1 ;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          it2 != last and (sorted = not bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>(*it2,*it1));it1 = it2++);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keywordflow">if</span> (sorted) return ;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">//---------------- check if only single thread -----------------------</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    uint32_t nbits_size = (util::nbits64(<span class="keyword">sizeof</span> (value_t)))&gt;&gt;1;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">if</span> ( nbits_size &gt; 5 ) nbits_size = 5 ;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="keywordtype">size_t</span> max_per_thread = 1&lt;&lt; (18 - nbits_size);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> ( nelem &lt; ( max_per_thread) or nthread &lt; 2)</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    {   <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a8096b13b1b1fafb93ff9a29a49cc016a">intro_sort</a> (first, last, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a>);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        return ;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    };</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">//----------------- creation of the temporary buffer --------------------</span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    ptr =std::get_temporary_buffer&lt;value_t&gt;( block_size*<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">nthread</a>).first ;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordflow">if</span> ( ptr == <span class="keyword">nullptr</span>) <span class="keywordflow">throw</span> std::bad_alloc() ;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    rglobal_buf = <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a276dd6674b312d0fa54e6ed3b0199349">range_buf</a> ( ptr , ptr + (block_size * nthread) );</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#aca2ef88aea1a77bc32a3d5a377fc58ae">util::init</a> ( rglobal_buf, *first);</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    construct = true ;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    std::vector&lt; value_t*&gt; vbuf ( nthread);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">for</span> ( uint32_t i =0 ; i &lt; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">nthread</a> ; ++i)</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        vbuf[i] = ptr + (i * block_size);</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a27fbd2be0e61e1af8da96faa36e13bf5">util::atomic_write</a> ( counter , 1 ) ;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    function_t f1 = [&amp;]()</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    {    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a6d4da06924ce72c23c2cdd7a36400983">start_function</a>( );</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                         <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a>( counter , 1 ) ;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                    };</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 ) ;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">//                    PROCESS</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">//------------------------------------------------------------------------</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    std::vector &lt;std::future &lt;void&gt; &gt; vfuture (nthread);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">for</span> ( uint32_t i =0 ; i &lt; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">nthread</a> ; ++i)</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    {   <span class="keyword">auto</span> f1 = [=, &amp;vbuf ] () {  bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a> (vbuf[i], this-&gt;counter);};</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        vfuture[i] = std::async ( std::launch::async , f1 );</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    };</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">for</span> ( uint32_t i =0 ; i &lt; <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">nthread</a> ; ++i) vfuture[i].<span class="keyword">get</span>() ;</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;};</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab21693c269cd596f2fece0587548fb97">  721</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab21693c269cd596f2fece0587548fb97">block_indirect_sort</a> ( iter_t first , iter_t last ):</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">block_indirect_sort</a> ( first, last, compare(),</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                      std::thread::hardware_concurrency() ) {};</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3cfeeb965a85be7f78710f9d6428734b">  725</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3cfeeb965a85be7f78710f9d6428734b">block_indirect_sort</a> (iter_t first , iter_t last , compare cmp):</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">block_indirect_sort</a> ( first, last, cmp, std::thread::hardware_concurrency()){};</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a45fec943805396e8acefc851bfcd84ef">  728</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a45fec943805396e8acefc851bfcd84ef">block_indirect_sort</a> ( iter_t first , iter_t last , uint32_t nthread):</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">block_indirect_sort</a>  ( first, last, compare(), nthread){};</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">//  function :~block_indirect_sort</span><span class="comment"></span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/// @brief destructor of the class. The utility is to destroy the temporary</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">///        buffer used in the sorting process</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/// @exception</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/// @return</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">/// @remarks</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a85c12b3cadbc27c548fcd924735c1784">  740</a></span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a85c12b3cadbc27c548fcd924735c1784">~block_indirect_sort</a> ( <span class="keywordtype">void</span>)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{   <span class="comment">//----------------------------------- begin -------------------------</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">if</span> (ptr != <span class="keyword">nullptr</span>)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    {   <span class="keywordflow">if</span> ( construct)</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        {   <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a35652e14e4e483445b53a944d631667b">util::destroy</a> (rglobal_buf);</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            construct = false ;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        };</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        std::return_temporary_buffer ( ptr) ;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    };</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;};</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">//  function : split_rage</span><span class="comment"></span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">/// @brief this function splits a range, and depending of the size, sort</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">///        directly or call to a recursive split_range</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">/// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">/// @param [in] RP : range of positions to split</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/// @param [in] Level : depth of the split</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00759"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">  759</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">split_range</a> ( <span class="keywordtype">size_t</span> pos_index1 ,<span class="keywordtype">size_t</span> pos_index2,</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                          uint32_t level_thread )</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;{   <span class="comment">//----------------------------- begin -----------------------------------</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordtype">size_t</span> nblock = pos_index2 - pos_index1;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">// In the blocks not sorted, the physical position is the logical position</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    iter_t first = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#afefd4e7c10cfe828f3329b08c056eab4">get_block</a> ( pos_index1).<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">first</a> ;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    iter_t last = bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">get_range</a> ( pos_index2 -1).<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a> ;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> ( nblock &lt; group_size)</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    {   <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a8096b13b1b1fafb93ff9a29a49cc016a">intro_sort</a> ( first, last , bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">cmp</a> ) ;</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        return ;</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    };</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordtype">size_t</span> pos_index_mid = pos_index1 + (nblock &gt;&gt;1 ) ;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    atomic_t son_counter (1) ;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">// Insert in the stack the work for the second part, and the actual thread,</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">// execute the first part</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">//-------------------------------------------------------------------------</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="keywordflow">if</span> ( level_thread != 0 )</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    {   <span class="keyword">auto</span> f1 = [=, &amp;son_counter]( )</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                  { <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">split_range</a> ( pos_index_mid,pos_index2, level_thread-1) ;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( son_counter , 1 ) ;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                  };</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 ) ;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">split_range</a> ( pos_index1 , pos_index_mid,level_thread -1) ;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    {   iter_t mid = first + ( (nblock &gt;&gt;1 ) * block_size ) ;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keyword">auto</span> f1 = [=, &amp;son_counter]()</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                  { <a class="code" href="namespaceboost_1_1sort_1_1parallel.html#a89cf87054779606fa0bc079fb8f08b7c">parallel_sort</a> ( bk, mid , last ) ;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <a class="code" href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">util::atomic_sub</a> ( son_counter , 1 ) ;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                  };</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">works</a>.<a class="code" href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">emplace_back</a> ( f1 ) ;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <a class="code" href="namespaceboost_1_1sort_1_1parallel.html#a89cf87054779606fa0bc079fb8f08b7c">parallel_sort</a> ( bk , first ,mid ) ;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    };</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">exec</a> ( son_counter ) ;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html">merge_blocks</a> ( bk, pos_index1 , pos_index_mid , pos_index2 ) ;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;};</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">//  function : start_function</span><span class="comment"></span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment">/// @brief this function splits a range, and depending of the size, sort</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">///        directly or call to a recursive split_range</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">/// @param [in] pf : pointer to the atomic counter of the father</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">/// @param [in] RP : range of positions to split</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">/// @param [in] Level : depth of the split</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment"></span><span class="comment">//-----------------------------------------------------------------------------</span></div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a6d4da06924ce72c23c2cdd7a36400983">  811</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a6d4da06924ce72c23c2cdd7a36400983">start_function</a> ( <span class="keywordtype">void</span>)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;{   <span class="comment">//----------------------- begin -----------------------------------</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (nthread &lt; 9 )</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    {   <a class="code" href="namespaceboost_1_1sort_1_1parallel.html#a89cf87054779606fa0bc079fb8f08b7c">parallel_sort</a> (bk, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">global_range</a>.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">first</a>, bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">global_range</a>.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">last</a>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    {   <span class="keywordtype">size_t</span> level_thread = nbits64 ( nthread -1 );</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">split_range</a> ( 0 , bk.<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a5f3b45a021a8c44ce4e6d50ac60db64c">nblock</a>, level_thread -1) ;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        <a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html">move_blocks</a> k( bk ) ;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    };</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;};</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;};<span class="comment">// End class block_indirect_sort</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">//----------------------------------------------------------------------------</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keyword">template</span> &lt;u<span class="keywordtype">int</span>32_t block_size,u<span class="keywordtype">int</span>32_t group_size,<span class="keyword">class</span> iter_t,<span class="keyword">class</span> compare&gt;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;thread_local <span class="keyword">typename</span> std::iterator_traits&lt;iter_t&gt;::value_type*</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<a class="code" href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">block_indirect_sort&lt;block_size,group_size,iter_t,compare&gt;::backbone::buf</a>= nullptr ;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">//****************************************************************************</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;};<span class="comment">//    End namespace detail</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;};<span class="comment">//    End namespace parallel</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;};<span class="comment">//    End namespace sort</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;};<span class="comment">//    End namespace boost</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">//****************************************************************************</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">//</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_ad7c85555833d80783bb4a9fd874f65e0"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ad7c85555833d80783bb4a9fd874f65e0">boost::sort::parallel::detail::block_indirect_sort::backbone::exec</a></div><div class="ttdeci">void exec(atomic_t &amp;counter)</div><div class="ttdoc">begin with the execution of the functions stored in works </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:218</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range_html_a144a298b53878210bc0f4610ea069e0f"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a144a298b53878210bc0f4610ea069e0f">boost::sort::parallel::detail::util::range::size</a></div><div class="ttdeci">size_t size(void) const </div><div class="ttdef"><b>Definition:</b> range.hpp:51</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a5f3b45a021a8c44ce4e6d50ac60db64c"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a5f3b45a021a8c44ce4e6d50ac60db64c">boost::sort::parallel::detail::block_indirect_sort::backbone::nblock</a></div><div class="ttdeci">size_t nblock</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:152</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html_a598973b3061c86b2346e8470ca0476c6"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a598973b3061c86b2346e8470ca0476c6">boost::sort::parallel::detail::block_indirect_sort::block::back</a></div><div class="ttdeci">iter_t back(void) const </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:101</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a0d2982cced585839c21ca9d1d7acb820"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a0d2982cced585839c21ca9d1d7acb820">boost::sort::parallel::detail::block_indirect_sort::backbone::backbone</a></div><div class="ttdeci">backbone(iter_t first, iter_t last, compare comp)</div><div class="ttdoc">constructor of the class </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:164</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_af100ad0edfd9ea661f761d7e04210e86"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af100ad0edfd9ea661f761d7e04210e86">boost::sort::parallel::detail::block_indirect_sort::nthread</a></div><div class="ttdeci">uint32_t nthread</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:656</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html_a9365659769f782ccd84625d0b72155d2"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a9365659769f782ccd84625d0b72155d2">boost::sort::parallel::detail::block_indirect_sort::parallel_sort::bk</a></div><div class="ttdeci">backbone &amp; bk</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:245</div></div>
<div class="ttc" id="namespaceboost_html"><div class="ttname"><a href="namespaceboost.html">boost</a></div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:26</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a3ad5bfdc8330bdb4d72f14c9295541dc"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3ad5bfdc8330bdb4d72f14c9295541dc">boost::sort::parallel::detail::block_indirect_sort::split_range</a></div><div class="ttdeci">void split_range(size_t pos_index1, size_t pos_index2, uint32_t level_thread)</div><div class="ttdoc">this function splits a range, and depending of the size, sort directly or call to a recursive split_r...</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:759</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a1f402e7aca0d771ff7c017e3e3fb5435"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a1f402e7aca0d771ff7c017e3e3fb5435">boost::sort::parallel::detail::block_indirect_sort::backbone::global_range</a></div><div class="ttdeci">util::range&lt; iter_t &gt; global_range</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:150</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_aaaf2c74180808cb6eec05eac939f854d"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaaf2c74180808cb6eec05eac939f854d">boost::sort::parallel::detail::block_indirect_sort::atomic_t</a></div><div class="ttdeci">std::atomic&lt; uint32_t &gt; atomic_t</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:48</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a5787ea4b9228fee3527975e589a38dbd"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a5787ea4b9228fee3527975e589a38dbd">boost::sort::parallel::detail::util::in_place_merge_uncontiguous</a></div><div class="ttdeci">bool in_place_merge_uncontiguous(Iter1_t src1, const Iter1_t end_src1, Iter2_t src2, const Iter2_t end_src2, Iter3_t aux, Compare comp)</div><div class="ttdoc">: merge two uncontiguous buffers, placing the results in the buffers for to do this use an auxiliary ...</div><div class="ttdef"><b>Definition:</b> low_level.hpp:247</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc_html_a00252cd27bda79b8dc571fd5ffa4848a"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a00252cd27bda79b8dc571fd5ffa4848a">boost::sort::parallel::detail::util::stack_cnc::pop_move_back</a></div><div class="ttdeci">bool pop_move_back(value_type &amp;P)</div><div class="ttdoc">erase the last element of the tree and return a copy </div><div class="ttdef"><b>Definition:</b> stack_cnc.hpp:312</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a6c593dad4c34bba44d18cd19d3a744f9"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a6c593dad4c34bba44d18cd19d3a744f9">boost::sort::parallel::detail::util::full_merge</a></div><div class="ttdeci">Iter2_t full_merge(Iter1_t buf1, const Iter1_t end_buf1, Iter1_t buf2, const Iter1_t end_buf2, Iter2_t buf_out, Compare comp)</div><div class="ttdoc">Merge two contiguous buffers pointed by buf1 and buf2 , and put in the buffer pointed by buf_out...</div><div class="ttdef"><b>Definition:</b> low_level.hpp:154</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_a037387c318bcff3d743fd2b028a3afc4"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a037387c318bcff3d743fd2b028a3afc4">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::merge_range_pos</a></div><div class="ttdeci">void merge_range_pos(range_pos rng)</div><div class="ttdoc">make the indirect merge of the two range_pos inside RP </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:484</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a5d64212b34adbe98c359f643c0642de3"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a5d64212b34adbe98c359f643c0642de3">boost::sort::parallel::detail::block_indirect_sort::counter</a></div><div class="ttdeci">atomic_t counter</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:652</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_html_a8096b13b1b1fafb93ff9a29a49cc016a"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a8096b13b1b1fafb93ff9a29a49cc016a">boost::sort::parallel::detail::intro_sort</a></div><div class="ttdeci">void intro_sort(Iter_t first, Iter_t last, Compare comp)</div><div class="ttdoc">: function for to sort range [first, last ) </div><div class="ttdef"><b>Definition:</b> intro_sort.hpp:121</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_acbddfa56a4a664baf541004010533089"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acbddfa56a4a664baf541004010533089">boost::sort::parallel::detail::block_indirect_sort::ptr</a></div><div class="ttdeci">value_t * ptr</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:653</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_adf34358cf8e2790706a5c3d7a6f1e2a4"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#adf34358cf8e2790706a5c3d7a6f1e2a4">boost::sort::parallel::detail::block_indirect_sort::block_pos::block_pos</a></div><div class="ttdeci">block_pos(void)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:68</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html_a110f3b4e4cce0e508f01291b6d42e104"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a110f3b4e4cce0e508f01291b6d42e104">boost::sort::parallel::detail::block_indirect_sort::block::get_range</a></div><div class="ttdeci">range_it get_range(void)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:102</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html">boost::sort::parallel::detail::util::range</a></div><div class="ttdoc">this represent a range between two iterators </div><div class="ttdef"><b>Definition:</b> range.hpp:40</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos_html_af85082aef174ae6745adbf3508115ec0"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#af85082aef174ae6745adbf3508115ec0">boost::sort::parallel::detail::block_indirect_sort::compare_block_pos::compare_block_pos</a></div><div class="ttdeci">compare_block_pos(iter_t f1, compare cmp)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:131</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range_html_aa3aadd0c8d5e963933362311eea499b9"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#aa3aadd0c8d5e963933362311eea499b9">boost::sort::parallel::detail::util::range::last</a></div><div class="ttdeci">Iter_t last</div><div class="ttdef"><b>Definition:</b> range.hpp:42</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_acc4aa32650bfcf22b46e12a3479d5dc5"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#acc4aa32650bfcf22b46e12a3479d5dc5">boost::sort::parallel::detail::block_indirect_sort::compare_block</a></div><div class="ttdeci">static bool compare_block(block b1, block b2, compare cmp=compare())</div><div class="ttdoc">compare two blocks using the content of the pointed by first </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:115</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a51970d9756b8e9b18c8f11a8ae9bb259"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a51970d9756b8e9b18c8f11a8ae9bb259">boost::sort::parallel::detail::block_indirect_sort::backbone::works</a></div><div class="ttdeci">util::stack_cnc&lt; std::function&lt; void(void) &gt; &gt; works</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:156</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_ac5e46d9568c1015e5b8bc93979b7d6a0"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ac5e46d9568c1015e5b8bc93979b7d6a0">boost::sort::parallel::detail::block_indirect_sort::block_pos::side</a></div><div class="ttdeci">bool side(void) const </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:80</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_aad36aad6e975a07f6dd0fdc321156170"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#aad36aad6e975a07f6dd0fdc321156170">boost::sort::parallel::detail::block_indirect_sort::block_pos::side</a></div><div class="ttdeci">void side(bool b)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:81</div></div>
<div class="ttc" id="nbits_8hpp_html"><div class="ttname"><a href="nbits_8hpp.html">nbits.hpp</a></div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_ae8a5203448192b8a7b1c2833ddce150f"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#ae8a5203448192b8a7b1c2833ddce150f">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::merge_blocks</a></div><div class="ttdeci">merge_blocks(backbone &amp;bkb, size_t pos_index1, size_t pos_index2, size_t pos_index3)</div><div class="ttdoc">make the indirect merge of the two range_pos inside RP </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:351</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_a5fd444527479ebe64c1e7ec6e3e8b058"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a5fd444527479ebe64c1e7ec6e3e8b058">boost::sort::parallel::detail::block_indirect_sort::block_pos::operator=</a></div><div class="ttdeci">block_pos operator=(size_t position)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:72</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html_ab8a8c795a41cfe491f85fada67c33c1f"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ab8a8c795a41cfe491f85fada67c33c1f">boost::sort::parallel::detail::block_indirect_sort::move_blocks::move_blocks</a></div><div class="ttdeci">move_blocks(backbone &amp;bkb)</div><div class="ttdoc">constructor of the class for to move the blocks to their true position obtained from the index ...</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:525</div></div>
<div class="ttc" id="intro__sort_8hpp_html"><div class="ttname"><a href="intro__sort_8hpp.html">intro_sort.hpp</a></div><div class="ttdoc">Intro Sort algorithm. </div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html_a360fa73ef7562a268386c840736de7e7"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a360fa73ef7562a268386c840736de7e7">boost::sort::parallel::detail::block_indirect_sort::move_blocks::bk</a></div><div class="ttdeci">backbone &amp; bk</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:516</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html_ac9cad93226cc422c81c9dcf142c2c1cd"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#ac9cad93226cc422c81c9dcf142c2c1cd">boost::sort::parallel::detail::block_indirect_sort::move_blocks::counter</a></div><div class="ttdeci">atomic_t counter</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:517</div></div>
<div class="ttc" id="stack__cnc_8hpp_html"><div class="ttname"><a href="stack__cnc_8hpp.html">stack_cnc.hpp</a></div><div class="ttdoc">This file contains the implementation concurrent stack. </div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a007076e25e0372476000ce7874e3c103"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a007076e25e0372476000ce7874e3c103">boost::sort::parallel::detail::util::is_mergeable</a></div><div class="ttdeci">bool is_mergeable(const range&lt; iter1_t &gt; &amp;src1, const range&lt; iter2_t &gt; &amp;src2, compare comp)</div><div class="ttdoc">: indicate if two ranges have a possible merge </div><div class="ttdef"><b>Definition:</b> range.hpp:151</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_ae615439e10995ee7ae7ff57d5c9cbb0a"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae615439e10995ee7ae7ff57d5c9cbb0a">boost::sort::parallel::detail::block_indirect_sort::block_pos::block_pos</a></div><div class="ttdeci">block_pos(size_t position, bool side=false)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:69</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html">boost::sort::parallel::detail::block_indirect_sort::move_blocks</a></div><div class="ttdoc">This contains all the information shared betwen the classes of the algorithm. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:514</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html">boost::sort::parallel::detail::block_indirect_sort</a></div><div class="ttdoc">This a structure for to implement a sample sort, exception safe. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:41</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range_html_a741342b025cfbea92cda254e1299ed51"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1range.html#a741342b025cfbea92cda254e1299ed51">boost::sort::parallel::detail::util::range::first</a></div><div class="ttdeci">Iter_t first</div><div class="ttdef"><b>Definition:</b> range.hpp:42</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a46ed5449d3053bcf8b38589bc99a1d80"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a46ed5449d3053bcf8b38589bc99a1d80">boost::sort::parallel::detail::block_indirect_sort::range_it</a></div><div class="ttdeci">util::range&lt; iter_t &gt; range_it</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:50</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_html_a89cf87054779606fa0bc079fb8f08b7c"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel.html#a89cf87054779606fa0bc079fb8f08b7c">boost::sort::parallel::parallel_sort</a></div><div class="ttdeci">void parallel_sort(Iter_t first, Iter_t last, Compare comp, uint32_t nthread)</div><div class="ttdoc">this function implement a non stable parallel sort. </div><div class="ttdef"><b>Definition:</b> sort.hpp:87</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_abd198c2b9fc50b91aebe64a0ad6e47eb"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#abd198c2b9fc50b91aebe64a0ad6e47eb">boost::sort::parallel::detail::util::atomic_read</a></div><div class="ttdeci">T atomic_read(std::atomic&lt; T &gt; &amp;at_var)</div><div class="ttdoc">make the atomic read of an atomic variable, using a memory model </div><div class="ttdef"><b>Definition:</b> atomic.hpp:41</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html_ab37e1566e7030b55b50299f90961cc93"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#ab37e1566e7030b55b50299f90961cc93">boost::sort::parallel::detail::block_indirect_sort::block::front</a></div><div class="ttdeci">iter_t front(void) const </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:100</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc_html"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html">boost::sort::parallel::detail::util::stack_cnc</a></div><div class="ttdoc">This class is a concurrent stack controled by a spin_lock. </div><div class="ttdef"><b>Definition:</b> stack_cnc.hpp:42</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_afefd4e7c10cfe828f3329b08c056eab4"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#afefd4e7c10cfe828f3329b08c056eab4">boost::sort::parallel::detail::block_indirect_sort::backbone::get_block</a></div><div class="ttdeci">block get_block(size_t pos) const </div><div class="ttdoc">obtain the block in the position pos </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:188</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos_html_a28f2e7d149785ec3899274680d7b17e9"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a28f2e7d149785ec3899274680d7b17e9">boost::sort::parallel::detail::block_indirect_sort::compare_block_pos::comp</a></div><div class="ttdeci">compare comp</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:128</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_html_a10c356b90a78dbcca1277dfce78e1ec6"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel.html#a10c356b90a78dbcca1277dfce78e1ec6">boost::sort::parallel::sort</a></div><div class="ttdeci">void sort(Iter_t first, Iter_t last, Compare comp=Compare())</div><div class="ttdoc">this function implement a non stable sort, based internally in the intro_sort algorithm. Run with 1 thread </div><div class="ttdef"><b>Definition:</b> sort.hpp:51</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a908d929443aa4186fbc050c34258a35a"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a908d929443aa4186fbc050c34258a35a">boost::sort::parallel::detail::block_indirect_sort::backbone::cmp</a></div><div class="ttdeci">compare cmp</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:153</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_a0c3aa4f6acd52c203257ecf99961982b"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a0c3aa4f6acd52c203257ecf99961982b">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::counter</a></div><div class="ttdeci">atomic_t counter</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:342</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_af18290463a3cbae52fcf85ea8813919d"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#af18290463a3cbae52fcf85ea8813919d">boost::sort::parallel::detail::block_indirect_sort::bk</a></div><div class="ttdeci">backbone bk</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:651</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a6d4da06924ce72c23c2cdd7a36400983"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a6d4da06924ce72c23c2cdd7a36400983">boost::sort::parallel::detail::block_indirect_sort::start_function</a></div><div class="ttdeci">void start_function(void)</div><div class="ttdoc">this function splits a range, and depending of the size, sort directly or call to a recursive split_r...</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:811</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a41890f6de2d6be803911e66f52b4c71c"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a41890f6de2d6be803911e66f52b4c71c">boost::sort::parallel::detail::block_indirect_sort::backbone::range_tail</a></div><div class="ttdeci">range_it range_tail</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:154</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_aad2c641010ccf28ff2f600d2eafd342e"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aad2c641010ccf28ff2f600d2eafd342e">boost::sort::parallel::detail::block_indirect_sort::value_t</a></div><div class="ttdeci">std::iterator_traits&lt; iter_t &gt;::value_type value_t</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:47</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a96e0acd637c3f107cb09ac1514a6bdd0"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a96e0acd637c3f107cb09ac1514a6bdd0">boost::sort::parallel::detail::util::merge_flow</a></div><div class="ttdeci">void merge_flow(range&lt; iter1_t &gt; rng1, range&lt; iter2_t &gt; rbuf, range&lt; iter1_t &gt; rng2, compare cmp)</div><div class="ttdoc">: merge two contiguous buffers </div><div class="ttdef"><b>Definition:</b> range.hpp:327</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a90d4d0b33c59dded3e2c156867e29451"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a90d4d0b33c59dded3e2c156867e29451">boost::sort::parallel::detail::util::init_move</a></div><div class="ttdeci">Iter2_t init_move(Iter2_t it_dest, Iter1_t first, Iter1_t last)</div><div class="ttdoc">Move objets. </div><div class="ttdef"><b>Definition:</b> low_level.hpp:99</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a7f4bd3d7b659ea631c6a720c7a92d9f4"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a7f4bd3d7b659ea631c6a720c7a92d9f4">boost::sort::parallel::detail::block_indirect_sort::block_indirect_sort</a></div><div class="ttdeci">block_indirect_sort(iter_t first, iter_t last, compare cmp, uint32_t nthr)</div><div class="ttdoc">begin with the execution of the functions stored in works </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:664</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html_ae031e4e9b458a36e6e9734ef67fb7a17"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ae031e4e9b458a36e6e9734ef67fb7a17">boost::sort::parallel::detail::block_indirect_sort::parallel_sort::parallel_sort</a></div><div class="ttdeci">parallel_sort(backbone &amp;bkbn, iter_t first, iter_t last)</div><div class="ttdoc">constructor of the class </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:256</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc_html_a66afe656c906fff438ba67d10af6e331"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1util_1_1stack__cnc.html#a66afe656c906fff438ba67d10af6e331">boost::sort::parallel::detail::util::stack_cnc::emplace_back</a></div><div class="ttdeci">void emplace_back(Args &amp;&amp;...args)</div><div class="ttdoc">Insert one element in the back of the container. </div><div class="ttdef"><b>Definition:</b> stack_cnc.hpp:253</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a35652e14e4e483445b53a944d631667b"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a35652e14e4e483445b53a944d631667b">boost::sort::parallel::detail::util::destroy</a></div><div class="ttdeci">void destroy(Iter_t first, const Iter_t last)</div><div class="ttdoc">Move objets to uninitialized memory. </div><div class="ttdef"><b>Definition:</b> low_level.hpp:136</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_adb0ed3d9e6290c57240d952006e1edff"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#adb0ed3d9e6290c57240d952006e1edff">boost::sort::parallel::detail::block_indirect_sort::backbone::ntail</a></div><div class="ttdeci">size_t ntail</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:152</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_aa0050779ffa6894c7678f205f15b8891"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aa0050779ffa6894c7678f205f15b8891">boost::sort::parallel::detail::block_indirect_sort::rglobal_buf</a></div><div class="ttdeci">range_buf rglobal_buf</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:655</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a6f52e6f8e236d0bd22f31fd742409e14"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a6f52e6f8e236d0bd22f31fd742409e14">boost::sort::parallel::detail::block_indirect_sort::backbone::index</a></div><div class="ttdeci">std::vector&lt; block_pos &gt; index</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:151</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html_a008fd66f067af41ce03d7a202c84692f"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a008fd66f067af41ce03d7a202c84692f">boost::sort::parallel::detail::block_indirect_sort::move_blocks::move_sequence</a></div><div class="ttdeci">void move_sequence(std::vector&lt; size_t &gt; &amp;seq)</div><div class="ttdoc">make the indirect merge of the two range_pos inside RP </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:584</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a3cfeeb965a85be7f78710f9d6428734b"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a3cfeeb965a85be7f78710f9d6428734b">boost::sort::parallel::detail::block_indirect_sort::block_indirect_sort</a></div><div class="ttdeci">block_indirect_sort(iter_t first, iter_t last, compare cmp)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:725</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_ab21693c269cd596f2fece0587548fb97"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab21693c269cd596f2fece0587548fb97">boost::sort::parallel::detail::block_indirect_sort::block_indirect_sort</a></div><div class="ttdeci">block_indirect_sort(iter_t first, iter_t last)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:721</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks_html_a87ddb30aa1a526b73192c66c56e95e78"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1move__blocks.html#a87ddb30aa1a526b73192c66c56e95e78">boost::sort::parallel::detail::block_indirect_sort::move_blocks::move_long_sequence</a></div><div class="ttdeci">void move_long_sequence(std::vector&lt; size_t &gt; &amp;seq)</div><div class="ttdoc">make the indirect merge of the two range_pos inside RP </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:608</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_abc260c9adcb7798d779d21e7a2799add"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#abc260c9adcb7798d779d21e7a2799add">boost::sort::parallel::detail::block_indirect_sort::backbone::get_range</a></div><div class="ttdeci">range_it get_range(size_t pos) const </div><div class="ttdoc">obtain the range in the position pos </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:197</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html">boost::sort::parallel::detail::block_indirect_sort::compare_block_pos</a></div><div class="ttdoc">This is a object for to compare two blocks from their positions in the index. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:125</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a3d6c5ba7ba79bd18ccbc491d571e066d"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a3d6c5ba7ba79bd18ccbc491d571e066d">boost::sort::parallel::detail::util::atomic_add</a></div><div class="ttdeci">T atomic_add(std::atomic&lt; T &gt; &amp;at_var, T2 num)</div><div class="ttdoc">Add a number to an atomic variable, using a memory model. </div><div class="ttdef"><b>Definition:</b> atomic.hpp:54</div></div>
<div class="ttc" id="atomic_8hpp_html"><div class="ttname"><a href="atomic_8hpp.html">atomic.hpp</a></div><div class="ttdoc">Basic layer for to simplify the use of atomic functions. </div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_aca2ef88aea1a77bc32a3d5a377fc58ae"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#aca2ef88aea1a77bc32a3d5a377fc58ae">boost::sort::parallel::detail::util::init</a></div><div class="ttdeci">void init(Iter_t first, Iter_t last, typename iterator_traits&lt; Iter_t &gt;::value_type &amp;val)</div><div class="ttdoc">initialize a range of objects with the object val moving across them </div><div class="ttdef"><b>Definition:</b> low_level.hpp:65</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a45fec943805396e8acefc851bfcd84ef"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a45fec943805396e8acefc851bfcd84ef">boost::sort::parallel::detail::block_indirect_sort::block_indirect_sort</a></div><div class="ttdeci">block_indirect_sort(iter_t first, iter_t last, uint32_t nthread)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:728</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_a33d15182500ed5d1fa9a21d1cf191312"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a33d15182500ed5d1fa9a21d1cf191312">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::cut_range</a></div><div class="ttdeci">void cut_range(range_pos rng, std::vector&lt; range_pos &gt; &amp;vrpos_out)</div><div class="ttdoc">divide the range_pos rng in several ranges. The ranges obtained are inserted in the vector of range_p...</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:449</div></div>
<div class="ttc" id="range_8hpp_html"><div class="ttname"><a href="range_8hpp.html">range.hpp</a></div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_a4f6f2c45278bfcf0a73039a1f2a8bb8e"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#a4f6f2c45278bfcf0a73039a1f2a8bb8e">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::tail_process</a></div><div class="ttdeci">void tail_process(std::vector&lt; block_pos &gt; &amp;vblkpos1, std::vector&lt; block_pos &gt; &amp;vblkpos2)</div><div class="ttdoc">make the indirect merge of the two range_pos inside RP </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:415</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_a3486d1e6c16d3931e414d870c540fa58"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#a3486d1e6c16d3931e414d870c540fa58">boost::sort::parallel::detail::block_indirect_sort::backbone::get_range_buf</a></div><div class="ttdeci">range_buf get_range_buf() const </div><div class="ttdoc">obtain the range in the position pos </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:209</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a85c12b3cadbc27c548fcd924735c1784"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a85c12b3cadbc27c548fcd924735c1784">boost::sort::parallel::detail::block_indirect_sort::~block_indirect_sort</a></div><div class="ttdeci">~block_indirect_sort(void)</div><div class="ttdoc">destructor of the class. The utility is to destroy the temporary buffer used in the sorting process ...</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:740</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html_af9c1d59b8233f99680a9c4f8c0e2a751"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html#af9c1d59b8233f99680a9c4f8c0e2a751">boost::sort::parallel::detail::block_indirect_sort::merge_blocks::bk</a></div><div class="ttdeci">backbone &amp; bk</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:341</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_ac7d268957f57d583cc52d99db8cf9318"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#ac7d268957f57d583cc52d99db8cf9318">boost::sort::parallel::detail::block_indirect_sort::backbone::buf</a></div><div class="ttdeci">static thread_local value_t * buf</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:155</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html_a8862ac51a099e17f023437b89944eb6d"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a8862ac51a099e17f023437b89944eb6d">boost::sort::parallel::detail::block_indirect_sort::block::block</a></div><div class="ttdeci">block(iter_t it)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:98</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_ae20d9ba0a0d8ce56fa9e84fd553ad468"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#ae20d9ba0a0d8ce56fa9e84fd553ad468">boost::sort::parallel::detail::block_indirect_sort::block_pos::pos</a></div><div class="ttdeci">void pos(size_t position)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:78</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html_a64e750ea5350b84eeb390cf6b4be2f56"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html#a64e750ea5350b84eeb390cf6b4be2f56">boost::sort::parallel::detail::block_indirect_sort::block_pos::pos</a></div><div class="ttdeci">size_t pos(void) const </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:77</div></div>
<div class="ttc" id="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos_html"><div class="ttname"><a href="classboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block__pos.html">boost::sort::parallel::detail::block_indirect_sort::block_pos</a></div><div class="ttdoc">represent a group of N contiguous elements, beginning with the pointed by first </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:62</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_ab77b27881bc5b8e3ba47f40346504dd4"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab77b27881bc5b8e3ba47f40346504dd4">boost::sort::parallel::detail::block_indirect_sort::range_pos</a></div><div class="ttdeci">util::range&lt; size_t &gt; range_pos</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:49</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html">boost::sort::parallel::detail::block_indirect_sort::backbone</a></div><div class="ttdoc">This contains all the information shared betwen the classes of the algorithm. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:148</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html_ab4f181e67574687ad06810418d48aa52"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#ab4f181e67574687ad06810418d48aa52">boost::sort::parallel::detail::block_indirect_sort::parallel_sort::divide_sort</a></div><div class="ttdeci">void divide_sort(iter_t first, iter_t last)</div><div class="ttdoc">this function divide the data in two part, for to be sorted in a parallel mode </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:290</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_a276dd6674b312d0fa54e6ed3b0199349"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#a276dd6674b312d0fa54e6ed3b0199349">boost::sort::parallel::detail::block_indirect_sort::range_buf</a></div><div class="ttdeci">util::range&lt; value_t * &gt; range_buf</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:51</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_ad474a66d24ea0e1c1eaaa06f62673597"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#ad474a66d24ea0e1c1eaaa06f62673597">boost::sort::parallel::detail::util::atomic_sub</a></div><div class="ttdeci">T atomic_sub(std::atomic&lt; T &gt; &amp;at_var, T2 num)</div><div class="ttdoc">Atomic subtract of an atomic variable using memory model. </div><div class="ttdef"><b>Definition:</b> atomic.hpp:69</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html_a0947715b8960fd195123965df7cb9164"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html#a0947715b8960fd195123965df7cb9164">boost::sort::parallel::detail::block_indirect_sort::block::first</a></div><div class="ttdeci">iter_t first</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:95</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_aaf3c71b13682cf083b9655eccc80f7bc"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#aaf3c71b13682cf083b9655eccc80f7bc">boost::sort::parallel::detail::block_indirect_sort::function_t</a></div><div class="ttdeci">std::function&lt; void(void) &gt; function_t</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:52</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html_a0fb7be21a001d47f2350a5928317169d"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a0fb7be21a001d47f2350a5928317169d">boost::sort::parallel::detail::block_indirect_sort::parallel_sort::counter</a></div><div class="ttdeci">atomic_t counter</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:247</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util_html_a27fbd2be0e61e1af8da96faa36e13bf5"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail_1_1util.html#a27fbd2be0e61e1af8da96faa36e13bf5">boost::sort::parallel::detail::util::atomic_write</a></div><div class="ttdeci">void atomic_write(std::atomic&lt; T &gt; &amp;at_var, T2 num)</div><div class="ttdoc">Write a value in an atomic variable using memory model. </div><div class="ttdef"><b>Definition:</b> atomic.hpp:84</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1merge__blocks.html">boost::sort::parallel::detail::block_indirect_sort::merge_blocks</a></div><div class="ttdoc">This contains all the information shared betwen the classes of the algorithm. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:339</div></div>
<div class="ttc" id="namespaceboost_1_1sort_1_1parallel_1_1detail_html_a94671129274ada0bb19f7ba8f3cb26cf"><div class="ttname"><a href="namespaceboost_1_1sort_1_1parallel_1_1detail.html#a94671129274ada0bb19f7ba8f3cb26cf">boost::sort::parallel::detail::pivot9</a></div><div class="ttdeci">void pivot9(Iter_t first, Iter_t last, Compare comp)</div><div class="ttdef"><b>Definition:</b> intro_sort.hpp:63</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_html_ab95578dc34110b4b8350a24c1d69b682"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort.html#ab95578dc34110b4b8350a24c1d69b682">boost::sort::parallel::detail::block_indirect_sort::construct</a></div><div class="ttdeci">bool construct</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:654</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html">boost::sort::parallel::detail::block_indirect_sort::parallel_sort</a></div><div class="ttdoc">This contains all the information shared betwen the classes of the algorithm. </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:243</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort_html_a1e797b786baad2e3a006bfa4fa100e2e"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1parallel__sort.html#a1e797b786baad2e3a006bfa4fa100e2e">boost::sort::parallel::detail::block_indirect_sort::parallel_sort::max_per_thread</a></div><div class="ttdeci">size_t max_per_thread</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:246</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone_html_aaa20ecec89f97fb6aaad4fd0b3e7f3b3"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1backbone.html#aaa20ecec89f97fb6aaad4fd0b3e7f3b3">boost::sort::parallel::detail::block_indirect_sort::backbone::exec</a></div><div class="ttdeci">void exec(value_t *ptr_buf, atomic_t &amp;counter)</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:226</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block_html"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1block.html">boost::sort::parallel::detail::block_indirect_sort::block</a></div><div class="ttdoc">represent a group of N contiguous elements, beginning with the pointed by first </div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:93</div></div>
<div class="ttc" id="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos_html_a31afea33d080895c9d2d413f674a1c8a"><div class="ttname"><a href="structboost_1_1sort_1_1parallel_1_1detail_1_1block__indirect__sort_1_1compare__block__pos.html#a31afea33d080895c9d2d413f674a1c8a">boost::sort::parallel::detail::block_indirect_sort::compare_block_pos::first</a></div><div class="ttdeci">iter_t first</div><div class="ttdef"><b>Definition:</b> block_indirect_sort.hpp:127</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 2 2016 12:03:50 for Sort Parallel by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
